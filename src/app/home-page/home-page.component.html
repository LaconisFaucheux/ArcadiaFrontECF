<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" type="image/png" href="assets/ArcadiaLogo.png"/>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link
    href="https://fonts.googleapis.com/css2?family=Neucha&display=swap"
    rel="stylesheet"
  />
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link
    href="https://fonts.googleapis.com/css2?family=Neucha&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
    rel="stylesheet"
  />
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
    crossorigin="anonymous"
  />
  <!--  <link rel="stylesheet" href="styles.css" />-->
  <script
    src="https://kit.fontawesome.com/8c061cdc6a.js"
    crossorigin="anonymous"
  ></script>
  <script
    defer
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"
  ></script>
  <title>Zoo Arcadia</title>
</head>
<body class="roboto-regular">
<header id="index-header">
  <nav
    class="navbar navbar-expand-lg navbar-dark"
    style="height: 25vh; align-items: flex-start"
  >
    <div class="container-fluid">
      <a class="navbar-brand" routerLink="">
        <img
          src="assets/ArcadiaLogo.png"
          style="height: 10vh; width: 10vh"
          alt=""
        />
      </a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" routerLink=""
            >Accueil</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="animaux">Animaux</a>
          </li>
          <li class="nav-item dropdown">
            <a
              class="nav-link dropdown-toggle"
              id="navbarDropdown"
              role="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              Habitats
            </a>
            <ul
              class="dropdown-menu dropdown-menu-dark"
              aria-labelledby="navbarDropdown"
            >
              <li>
                <a class="dropdown-item" routerLink="habitats"
                >Tous les habitats</a
                >
              </li>

              @for (h of habitats; track h.id) {
                <li><a class="dropdown-item" [routerLink]="['habitats', 'detail']">{{ h.name | titlecase}}</a></li>
              }

            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="activites">Activités</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="philosophie">Philosophie</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="admin-connection-form.html"
            >Connexion</a
            >
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div
    style="height: 50vh"
    class="d-flex align-items-end justify-content-end mx-4 mb-3"
  >
    <p
      class="text-white fs-2 fw-lighter fst-italic d-flex justify-content-end align-items-center col-5 text-end"
    >
      Un zoo familial au coeur de la forêt de Brocéliande, depuis 1959
    </p>
  </div>
</header>

<main>
  <section class="d-flex flex-column flex-md-row">
    <article
      class="col-12 col-md-6 p-5 d-flex align-items-center flex-column justify-content-center"
    >
      <h2 class="mb-4 text-center neucha-regular">
        Le Zoo ARCADIA, un lieu préservé pour s'émerveiller !
      </h2>
      <p class="text-center">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus
        in quam a nisl pellentesque venenatis quis ultricies est. Integer
        tempor justo in tellus consequat, et gravida nisi porttitor. Vivamus
        eros nisl, fringilla at finibus a, tempor non tellus. Morbi ut
        tempor neque. Pellentesque ut urna nec tellus convallis auctor. Nunc
        et viverra dui. Nullam dapibus sit amet justo non congue. Vivamus eu
        urna nec metus efficitur laoreet. Aenean ipsum est, aliquet vel mi
        vel, hendrerit consequat mi. Nulla facilisi. Suspendisse enim risus,
        pharetra at bibendum at, ultrices ac felis.
      </p>
    </article>
    <article class="col-12 col-md-6 p-5">
      <h2 class="text-center mb-4 neucha-regular">Pratique!</h2>
      <div class="d-flex flex-column">
        <div
          class="d-flex flex-column flex-xl-row text-center my-2 align-items-center"
        >
          <div
            class="col-12 col-md-6 d-flex flex-column align-items-center"
          >
            <h5>Où sommes-nous?</h5>
            <div class="my-5">
              <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2668.3576274383267!2d-2.1705188874993877!3d48.02611917111142!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x480fad0272ced98d%3A0x4249fa03c2c84724!2sRue%20de%20l&#39;Enchanteur%20Merlin%2C%2035380%20Paimpont!5e0!3m2!1sfr!2sfr!4v1718042821150!5m2!1sfr!2sfr"
                style="border: 0; margin: auto; border-radius: 10px"
                height="290"
                width="250"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
              ></iframe>
            </div>
          </div>
          <div
            class="col-12 col-md-6 d-flex flex-column align-items-center"
          >
            <h5 class="text-center my">Horaires d'ouverture</h5>
            <table class="table text-center">
              <tbody>

                @for (h of horaires; track h.id) {
                  <tr>
                    <th scope="row">{{ h.dayOfWeek }}</th>

                    @if (h.morningOpening === null) {
                      <td>Fermé</td>
                    } @else if (h.morningClosing?.getTime() == h.afternoonOpening?.getTime()) {
                      <td>{{ h.morningOpening | date:'HH:mm':'':'fr-FR' }}</td>
                    } @else {
                      <td>{{ h.morningOpening | date:'HH:mm' :'' :'fr-FR' }}
                        - {{ h.morningClosing | date:'HH:mm' :'' :'fr-FR' }}
                      </td>
                    }

                    @if (h.afternoonOpening === null) {
                      <td>Fermé</td>
                    } @else if (h.morningClosing?.getTime() == h.afternoonOpening.getTime()) {
                      <td>{{ h.afternoonClosing | date:'HH:mm' :'' :'fr-FR' }}</td>
                    } @else {
                      <td>{{ h.afternoonOpening | date:'HH:mm' :'' :'fr-FR' }}
                        - {{ h.afternoonClosing | date:'HH:mm' :'' :'fr-FR' }}
                      </td>
                    }

                  </tr>
                }

              </tbody>
            </table>
          </div>
        </div>
        <div class="col-12 d-flex flex-column align-items-center my-5">
          @if (isOpen) {
            <h5>Actuellement ouvert</h5>
            <p class="fs-1">✅</p>
          } @else {
            <h5>Actuellement fermé</h5>
            <p class="fs-1">❌</p>
          }
        </div>
      </div>
    </article>
  </section>
  <div id="otter-separator"></div>


  @if (reviews.length > 0) {

    <h2 class="text-center m-5 neucha-regular">Nos visiteurs témoignent:</h2>


    <div
      id="carouselExampleIndicators"
      class="carousel carousel-dark slide"
      data-bs-ride="true"
      style="min-height: 25vh;"
    >
      <div class="carousel-indicators">

        @for (r of reviews; track $index) {
          @if ($first) {
            <button
              type="button"
              data-bs-target="#carouselExampleIndicators"
              [attr.data-bs-slide-to]="$index"
              class="active"
              aria-current="true"
              [attr.aria-label]="'Slide ' + ($index + 1)"
            ></button>
          } @else {
            <button
              type="button"
              data-bs-target="#carouselExampleIndicators"
              [attr.data-bs-slide-to]="$index"
              [attr.aria-label]="'Slide ' + ($index + 1)"
            ></button>
          }
        }

      </div>


      <div class="carousel-inner">

        @for (r of reviews; track $index) {
          <div [class]="$index === 0 ? ' carousel-item active' : 'carousel-item'">
            <div class="d-flex flex-column col-12 justify-content-center align-items-center">

              <h4 class="text-center">{{ r.pseudo }}</h4>
              <p class="text-center col-8">{{ r.content }}</p>

              <div class="d-flex flex-row mb-5">
                @for (s of getStars(r.note); track $index) {
                  <i class="fa-solid fa-leaf text-success mx-1"></i>
                }
                @for (us of getUnStars(r.note); track $index) {
                  <i class="fa-solid fa-leaf text-warning mx-1"></i>
                }
              </div>


            </div>

          </div>
        }

      </div>
      <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#carouselExampleIndicators"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#carouselExampleIndicators"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>

    <div
      class="d-flex justify-content-center align-items-center col-6 mx-auto"
    >
      <button
        class="btn btn-outline-success m-5"
        onclick="window.location.href='review-form.html'"
      >
        Donnez-nous votre avis!
      </button>
    </div>


  }

  @if (randomAnimal) {
    <article
      id="last-homepage-article"
      class="d-flex flex-column justify-content-center align-items-center p-5"
    >
      <h2 class="neucha-regular m-4">Focus sur...</h2>
      <div class="card" style="width: 40vh">
        <img
          [src]="'https://localhost:7015/' + randomAnimal.pics[0].slug"
          class="card-img-top"
          [alt]="randomAnimal.speciesData.name"
        />
        <div class="card-body">
          <h5 class="card-title">{{ randomAnimal.name }}</h5>
          <h6 class="card-title">{{ randomAnimal.speciesData.name }}</h6>
          <p class="card-text">{{ randomAnimal.speciesData.description }}
          </p>
          <a href="#" class="btn btn-success">En savoir plus</a>
        </div>
      </div>
    </article>
  }
</main>
</body>
</html>
